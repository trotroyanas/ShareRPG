<script>
  import Navbar from "../components/navbar.svelte";
  import Cooks from "../configs/SessionCookie.js";
  import toastr from "toastr";
  import toastrOptions from "../configs/toastroptions.js";
  toastr.options = toastrOptions;

  import { goto } from "@sveltech/routify";
  import _ from "lodash";
  /*  Sécurité */
  let isConnect;
  isConnect = Cooks.isConnect();
  if (!_.isEmpty(isConnect) || isConnect === false) {
    $goto("/login");
  }

  function logout() {
    Cooks.delLS();
    toastr["success"]("You're disconnected", "Success");
    $goto("/login");
  }
</script>

<style lang="scss">
  .bdr {
    border: solid 0px red;
  }

  .bdb {
    border: solid 0px blue;
  }

  .mt50 {
    padding-top: 50px;
  }

  .ugrid {
    display: flex;
    flex-direction: row;
    flex-flow: row wrap;
    justify-content: center;
    justify-self: auto;
    width: 100%;
    margin: 0px auto;
  }

  .cardo {
    width: 300px;
    height: 200px;
    border: solid 1px #ddd;
    border-radius: 8px;
    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.1);
    margin: 10px 10px;
  }

  .cardo:hover {
    background-color: var(--blood-dark);
    opacity: 0.85;
    cursor: pointer;
  }

  .ColText {
    color: #2c3e50;
  }

  svg {
    fill: #2c3e50;
  }

  .ricon {
    width: 50%;
    height: 50%;
    margin: 25px auto;
    text-align: center;
  }

  .ricon2 {
    width: 50%;
    height: 50%;
    margin: 35px auto;
    text-align: center;
  }

  .workplace {
    width: 100%;
  }
</style>

<div class="workplace bdr">
  <Navbar Connect={isConnect} />
  <div class="mt50">
    <div class="text-center">
      <h2 class="page-section-heading text-secondary mb-0 d-inline-block">
        My Home
      </h2>
    </div>
  </div>

  <div class="divider-custom">
    <div class="divider-custom-line" />
    <div class="divider-custom-icon">
      <i class="fas fa-star" />
    </div>
    <div class="divider-custom-line" />
  </div>

  <div class="ugrid bdb">

    <div class="cardo">
      <a href="/account/create" title="Add documents">
        <div class="ricon2">
          <i class="fas fa-store fa-8x ColText" />
        </div>
      </a>
    </div>

    <div class="cardo">
      <a href="/account/history" title="Sales history">
        <div class="ricon">
          <svg
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            viewBox="0 0 1000 1000"
            enable-background="new 0 0 1000 1000"
            xml:space="preserve">
            <metadata>
              Svg Vector Icons : http://www.onlinewebfonts.com/icon
            </metadata>
            <g>
              <g
                transform="translate(0.000000,512.000000)
                scale(0.100000,-0.100000)">
                <path
                  d="M1439.1,4997.7c-84.4-28.8-159.1-92-197.5-166.8c-26.9-53.7-36.4-149.5-15.3-149.5c7.7,0,619.3-72.9,1359.3-163c742-90.1,1361.3-163,1378.5-163c23,0,30.7,19.2,30.7,76.7c0,113.1-61.4,220.5-161,278c-78.6,46-163,59.4-1184.9,182.1c-603.9,74.8-1106.2,134.2-1117.8,132.3C1521.5,5024.5,1479.3,5013,1439.1,4997.7z" />
                <path
                  d="M4311.2,4894.1c-42.2-19.2-95.9-55.6-118.9-80.5c-49.8-53.7-101.6-170.6-101.6-228.2c0-38.3,5.8-38.3,1411.1-38.3h1413l-11.5,78.6c-13.4,105.4-90.1,214.7-180.2,258.8c-69,34.5-134.2,36.4-1204,40.3C4451.1,4930.6,4384,4928.6,4311.2,4894.1z" />
                <path
                  d="M7263.8,4894.1c-42.2-19.2-95.9-55.6-118.9-80.5c-49.8-53.7-101.6-170.6-101.6-228.2c0-38.3,5.7-38.3,1409.2-38.3h1409.2v51.8c0,72.9-67.1,203.2-128.5,247.3c-113.1,82.4-136.1,84.4-1288.4,84.4C7411.4,4930.6,7334.7,4926.7,7263.8,4894.1z" />
                <path
                  d="M1130.4,4361.1c-5.8-40.3-111.2-887.7-233.9-1884.7C775.7,1479.5,633.8,323.4,582.1-92.7c-51.8-416.1-92-757.3-90.1-759.2c1.9-1.9,444.8-57.5,981.7-122.7c538.8-65.2,1177.2-141.9,1418.8-170.6c243.5-30.7,444.8-51.8,448.7-47.9c5.7,5.7,651.9,5218.8,653.8,5272.5c0,11.5-111.2,32.6-272.3,51.8c-151.5,17.3-774.6,92-1386.2,166.8c-611.6,72.9-1131.2,134.2-1154.2,134.2C1149.6,4432.1,1140,4418.6,1130.4,4361.1z
                  M2547.3,3807c243.5-28.8,448.6-57.5,456.3-65.2c15.4-13.4-30.7-471.7-47.9-490.8c-9.6-7.7-997,105.4-1008.5,117c-7.7,5.8,28.8,337.4,47.9,446.7c9.6,55.6,15.3,61.4,61.4,53.7C2083.3,3862.6,2305.7,3835.8,2547.3,3807z
                  M2447.6,2637.5l439.1-51.8l-11.5-59.4c-3.8-32.6-15.4-95.9-21.1-140c-11.5-70.9-19.2-80.5-53.7-72.9c-23,3.8-232,30.7-464,57.5c-569.4,65.2-511.9,44.1-496.6,187.9c7.7,65.2,17.2,126.5,23,136.1c3.8,7.7,40.3,11.5,78.6,5.8C1979.8,2695,2207.9,2666.3,2447.6,2637.5z
                  M2802.3,1999.1c11.5-3.8-21.1-241.6-34.5-256.9c-7.7-9.6-230.1,9.6-494.7,42.2c-262.7,32.6-488.9,59.4-500.4,59.4c-23,0-19.2,76.7,9.6,230.1l9.6,49.8l502.3-61.4C2570.3,2027.8,2798.4,1999.1,2802.3,1999.1z
                  M2248.2,1479.5c258.8-32.6,473.6-61.4,477.4-65.2c3.8-5.8,1.9-65.2-5.8-134.2c-17.2-151.5,34.5-143.8-504.2-78.6c-569.4,69-542.6,63.3-533,111.2c5.7,23,15.3,82.4,21.1,134.2c9.6,67.1,19.2,90.1,44.1,90.1C1765,1537,1991.2,1510.2,2248.2,1479.5z" />
                <path
                  d="M4071.5,1632.9v-2665h1438h1437.9v2665v2665H5509.5h-1438V1632.9z
                  M6021.4,3617.2c3.8-115,1.9-230.1-3.8-253.1l-9.6-44.1h-508.1h-508.1v258.8v258.8l511.9-3.8l511.9-5.8L6021.4,3617.2z
                  M6015.6,2524.4v-134.2l-511.9-5.7l-511.9-3.8v143.8v143.8l511.9-3.8l511.9-5.8V2524.4z
                  M6023.3,1945.4l-5.7-130.4l-511.9-5.7l-513.8-3.8v134.2v134.2h517.7H6029L6023.3,1945.4z
                  M6015.6,1354.8l1.9-134.2l-511.9-5.7l-513.8-3.8v143.8v143.8l511.9-3.8l510-5.8L6015.6,1354.8z" />
                <path
                  d="M7014.5,1632.9v-2665h1443.7H9900v2665v2665H8458.2H7014.5V1632.9z
                  M8970.1,3578.9v-249.2l-511.9-5.8l-513.8-3.8v258.8v258.8l513.8-3.8l511.9-5.8V3578.9z
                  M8975.9,2622.2c3.8-19.2,1.9-82.4-5.8-138l-11.5-103.5h-508.1h-506.2v143.8v143.8l511.9-3.8C8941.4,2658.6,8970.1,2656.7,8975.9,2622.2z
                  M8968.2,1985.6c5.7-49.8,11.5-109.3,11.5-134.2v-46H8462h-517.7v134.2v134.2h506.2h504.2L8968.2,1985.6z
                  M8970.1,1477.6c7.7-11.5,7.7-74.8,0-143.8l-13.4-122.7h-506.2h-506.2v143.8v143.8h506.2C8793.7,1498.6,8962.5,1491,8970.1,1477.6z" />
                <path
                  d="M267.6-2652.3c-212.8-1731.3-209-1641.2-67.1-1777.3c51.8-49.8,101.6-74.8,174.5-90.1c191.7-40.3,2191.4-274.2,2264.3-264.6c105.4,13.4,218.6,95.9,264.6,191.7c28.8,63.3,76.7,400.7,224.3,1610.5c103.5,839.8,182.1,1528.1,176.4,1528.1c-5.8,0-224.3,26.8-488.9,57.5c-262.7,32.6-872.4,105.4-1351.7,163c-479.3,57.5-903,109.3-939.5,115l-67.1,11.5L267.6-2652.3z
                  M1889.6-1935.2c228.2-47.9,488.9-241.6,590.5-437.1c174.5-343.2,105.4-747.8-168.7-1000.8c-285.7-264.6-671-320.2-1016.2-143.8C931-3332.9,743.1-2884.2,869.6-2508.5c49.9,149.5,94,218.6,210.9,337.5C1291.4-1958.2,1586.7-1871.9,1889.6-1935.2z" />
                <path
                  d="M1490.8-2270.7c-111.2-40.3-230.1-149.5-289.5-264.6c-141.9-274.2,9.6-630.8,308.7-734.3c276.1-93.9,567.5,19.2,690.2,266.5c126.5,251.2,13.4,575.2-247.3,711.3C1853.2-2240,1604-2228.5,1490.8-2270.7z" />
                <path
                  d="M4063.8-2849.7c1.9-851.3,9.6-1570.3,17.2-1595.2c24.9-82.4,107.4-176.4,189.8-212.8c74.8-32.6,145.7-36.4,1229-36.4s1154.2,3.8,1229,36.4c94,42.2,168.7,134.2,197.5,241.6c13.4,51.8,21.1,557.9,21.1,1597.1v1518.5H5505.6H4061.9L4063.8-2849.7z
                  M5710.8-1962c262.7-69,477.4-245.4,590.5-483.2c57.5-122.7,61.4-143.8,61.4-343.2c0-205.1-1.9-214.7-72.9-356.6c-272.3-550.3-1010.4-661.5-1432.2-214.7c-247.3,260.8-299.1,642.3-134.2,968.2c59.4,115,220.5,276.1,341.3,339.3C5281.3-1937.1,5496-1906.4,5710.8-1962z" />
                <path
                  d="M5285.1-2297.6c-124.6-49.8-274.2-209-310.6-327.9c-109.3-358.5,143.8-694.1,525.3-696c168.7,0,304.9,55.6,410.3,170.6c105.4,113.1,141.9,205.2,141.9,354.7c1.9,209-107.4,383.5-299.1,483.2C5636-2253.5,5417.4-2245.8,5285.1-2297.6z" />
                <path
                  d="M7020.3-1371.5c-5.7-40.3-7.7-742-5.7-1560.6c3.8-1447.5,3.8-1491.7,42.2-1562.6c21.1-42.2,74.8-99.7,118.9-132.3l82.4-57.5l1167.6-5.7c1113.9-3.8,1173.4-3.8,1252,32.6c95.9,42.2,170.6,132.3,201.3,241.6c13.4,51.8,21.1,557.9,21.1,1597.1v1518.5H8464H7029.8L7020.3-1371.5z
                  M8663.4-1962c262.7-69,477.4-245.4,590.5-483.2c57.5-122.7,61.4-143.8,61.4-343.2c0-205.1-1.9-214.7-72.9-356.6c-272.3-550.3-1010.4-661.5-1432.2-214.7c-247.3,260.8-299.1,642.3-134.2,968.2c59.4,115,220.5,276.1,341.3,339.3C8233.9-1937.1,8448.6-1906.4,8663.4-1962z" />
                <path
                  d="M8237.7-2297.6c-120.8-47.9-274.2-209-308.7-320.2c-109.3-366.2,141.9-701.7,523.4-703.7c168.7,0,304.9,55.6,410.3,170.6c105.4,113.1,141.9,205.2,141.9,354.7c1.9,209-107.4,383.5-299.1,483.2C8588.6-2253.5,8370-2245.8,8237.7-2297.6z" />
              </g>
            </g>
          </svg>
        </div>
      </a>
    </div>

    <div class="cardo">
      <a href="/account/messages" title="Messages" data-tooltip="Messages">
        <div class="ricon2">
          <i class="far fa-envelope fa-8x ColText" />
        </div>
      </a>
    </div>

    <div class="cardo">
      <a href="/account/chgpassword" title="Change password">
        <div class="ricon">

          <svg
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            viewBox="0 0 1000 1000"
            enable-background="new 0 0 1000 1000"
            xml:space="preserve">
            <metadata>
              Svg Vector Icons : http://www.onlinewebfonts.com/icon
            </metadata>
            <g>
              <path
                d="M618.9,438.7c35.8,0,64.8,31.6,64.8,70.7v164.9c0,39-29,70.7-64.8,70.7H381.3c-35.8,0-64.8-31.6-64.8-70.7V509.4c0-39,29-70.7,64.8-70.7h57.5l0,0h122.5l0,0H618.9z
                M499.5,500.2c-33.8,0-61.3,26.2-61.3,58.6c0,21.6,16.8,38.2,35,48.3v76.1h52.5v-76.1c18.3-10.2,35-26.7,35-48.3C560.8,526.4,533.4,500.2,499.5,500.2z
                M500,316.3c-57.6,0-61.1,48.4-61.3,61.3v61.1h-61.6v-55.2c0,0,0-128.6,122.7-128.6c122.7,0,122.7,128.6,122.7,128.6v55.2h-61.2v-61.1C561.1,365,557.6,316.3,500,316.3z
                M500,990.1c-270.6,0-490-219.4-490-490c0-270.6,219.4-490,490-490c87.2,0,169,22.9,240,62.9l45.6-63.1l81.6,214.5L653.2,193l50.5-69.9C643.1,90.3,573.8,71.4,500,71.4c-236.8,0-428.8,192-428.8,428.8c0,236.8,192,428.7,428.8,428.7c236.8,0,428.8-192,428.8-428.7c0-57.8-11.6-112.9-32.3-163.2l56.6-23.3c23.7,57.5,37,120.4,37,186.5C990,770.7,770.6,990.1,500,990.1z" />
            </g>
          </svg>
        </div>
      </a>
    </div>

    <div class="cardo">
      <a href="/account/profil" title="Edit profil">
        <div class="ricon2">
          <i class="fas fa-user fa-8x ColText" />
        </div>
      </a>
    </div>

    <div class="cardo">
      <a href="/" on:click|preventDefault={logout} title="Logout">
        <div class="ricon2">
          <i class="fas fa-sign-out-alt fa-8x ColText" />
        </div>
      </a>
    </div>

  </div>
</div>
